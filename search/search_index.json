{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"This is a Lizmap module to generate an API for G-Obs","title":"Accueil"},{"location":"CHANGELOG/","text":"Changelog # Unreleased # 0.6.0 - 2023-03-27 # Changed # Indicator - Move the dimensions characteristics into a new dedicated table dimension 0.5.1 - 2023-02-21 # Added # Observation - Allow to create an observation by passing a spatial object reference The API will not create a new dedicated spatial object to reference the observation but will use the given spatial object 0.5.0 - 2022-11-02 # Added # Observation - Respect and use the given UUID when creating a new observation instead of always generate a new one Changed # Installation - improve the installation process and adapt the code for LWC >= 3.5 Logs - Add the user login as a prefix in the API logs if available Docs: Add the entry point /project/{projectKey}/indicator/{indicatorCode}/document/{documentUuid} in the API documentation Remove the useless mention of jDb profile Tests # Unit tests - Add a full dockerized stack with Lizmap Web Client to test the API entry points Add test data (taken from the G-Obs QGIS plugin) Add a QGIS project with the test data and the needed variables Allow to use the make command to run the test stack and import the needed data Add 14 Python unit tests to cover the main API entry points 0.4.1 - 2022-04-22 # Observation - Return the full geometry (Point, Linestring or Polygon) and not the centroid anymore in the \"wkt\" property of the observation. QGIS Project - Get the QGIS PostgreSQL connection name and use it as the name of the PostgreSQL service file to use for the database connection. Installation - Use the new method createEntryPoint to correctly install gobsapi.php CI - Create a release on GitHub after a publishing a tag Docs - Switch to MkDocs 0.4.0 - 2021-07-04 # User - Automatically create an actor in the G-Obs database for the authenticated user Indicator - Automatically create a series for the authenticated user and the given indicator, allowing the user to directly create observations for this indicator Docs - Add installation, configuration & changelog chapters in https://docs.3liz.org/lizmap-gobsapi-module/ 0.3.3 - 2021-03-02 # Observation - Add editable field to let API consumer knows whether the observation can be edited 0.3.2 - 2021-02-10 # Config - Add option to log every API call in Lizmap Web Client default log file Docs - Update README with debug chapter Add CHANGELOG.md file 0.3.1 - 2020-11-01 # Media - Use gobsapi.php URL for project geopackage, indicator documents and observation media Project - Add default maximum extent if project projection unknown Docs - Update README","title":"Changelog"},{"location":"CHANGELOG/#changelog","text":"","title":"Changelog"},{"location":"CHANGELOG/#unreleased","text":"","title":"Unreleased"},{"location":"CHANGELOG/#060-2023-03-27","text":"","title":"0.6.0 - 2023-03-27"},{"location":"CHANGELOG/#changed","text":"Indicator - Move the dimensions characteristics into a new dedicated table dimension","title":"Changed"},{"location":"CHANGELOG/#051-2023-02-21","text":"","title":"0.5.1 - 2023-02-21"},{"location":"CHANGELOG/#added","text":"Observation - Allow to create an observation by passing a spatial object reference The API will not create a new dedicated spatial object to reference the observation but will use the given spatial object","title":"Added"},{"location":"CHANGELOG/#050-2022-11-02","text":"","title":"0.5.0 - 2022-11-02"},{"location":"CHANGELOG/#added_1","text":"Observation - Respect and use the given UUID when creating a new observation instead of always generate a new one","title":"Added"},{"location":"CHANGELOG/#changed_1","text":"Installation - improve the installation process and adapt the code for LWC >= 3.5 Logs - Add the user login as a prefix in the API logs if available Docs: Add the entry point /project/{projectKey}/indicator/{indicatorCode}/document/{documentUuid} in the API documentation Remove the useless mention of jDb profile","title":"Changed"},{"location":"CHANGELOG/#tests","text":"Unit tests - Add a full dockerized stack with Lizmap Web Client to test the API entry points Add test data (taken from the G-Obs QGIS plugin) Add a QGIS project with the test data and the needed variables Allow to use the make command to run the test stack and import the needed data Add 14 Python unit tests to cover the main API entry points","title":"Tests"},{"location":"CHANGELOG/#041-2022-04-22","text":"Observation - Return the full geometry (Point, Linestring or Polygon) and not the centroid anymore in the \"wkt\" property of the observation. QGIS Project - Get the QGIS PostgreSQL connection name and use it as the name of the PostgreSQL service file to use for the database connection. Installation - Use the new method createEntryPoint to correctly install gobsapi.php CI - Create a release on GitHub after a publishing a tag Docs - Switch to MkDocs","title":"0.4.1 - 2022-04-22"},{"location":"CHANGELOG/#040-2021-07-04","text":"User - Automatically create an actor in the G-Obs database for the authenticated user Indicator - Automatically create a series for the authenticated user and the given indicator, allowing the user to directly create observations for this indicator Docs - Add installation, configuration & changelog chapters in https://docs.3liz.org/lizmap-gobsapi-module/","title":"0.4.0 - 2021-07-04"},{"location":"CHANGELOG/#033-2021-03-02","text":"Observation - Add editable field to let API consumer knows whether the observation can be edited","title":"0.3.3 - 2021-03-02"},{"location":"CHANGELOG/#032-2021-02-10","text":"Config - Add option to log every API call in Lizmap Web Client default log file Docs - Update README with debug chapter Add CHANGELOG.md file","title":"0.3.2 - 2021-02-10"},{"location":"CHANGELOG/#031-2020-11-01","text":"Media - Use gobsapi.php URL for project geopackage, indicator documents and observation media Project - Add default maximum extent if project projection unknown Docs - Update README","title":"0.3.1 - 2020-11-01"},{"location":"changelog/","text":"Changelog # Unreleased # 0.6.0 - 2023-03-27 # Changed # Indicator - Move the dimensions characteristics into a new dedicated table dimension 0.5.1 - 2023-02-21 # Added # Observation - Allow to create an observation by passing a spatial object reference The API will not create a new dedicated spatial object to reference the observation but will use the given spatial object 0.5.0 - 2022-11-02 # Added # Observation - Respect and use the given UUID when creating a new observation instead of always generate a new one Changed # Installation - improve the installation process and adapt the code for LWC >= 3.5 Logs - Add the user login as a prefix in the API logs if available Docs: Add the entry point /project/{projectKey}/indicator/{indicatorCode}/document/{documentUuid} in the API documentation Remove the useless mention of jDb profile Tests # Unit tests - Add a full dockerized stack with Lizmap Web Client to test the API entry points Add test data (taken from the G-Obs QGIS plugin) Add a QGIS project with the test data and the needed variables Allow to use the make command to run the test stack and import the needed data Add 14 Python unit tests to cover the main API entry points 0.4.1 - 2022-04-22 # Observation - Return the full geometry (Point, Linestring or Polygon) and not the centroid anymore in the \"wkt\" property of the observation. QGIS Project - Get the QGIS PostgreSQL connection name and use it as the name of the PostgreSQL service file to use for the database connection. Installation - Use the new method createEntryPoint to correctly install gobsapi.php CI - Create a release on GitHub after a publishing a tag Docs - Switch to MkDocs 0.4.0 - 2021-07-04 # User - Automatically create an actor in the G-Obs database for the authenticated user Indicator - Automatically create a series for the authenticated user and the given indicator, allowing the user to directly create observations for this indicator Docs - Add installation, configuration & changelog chapters in https://docs.3liz.org/lizmap-gobsapi-module/ 0.3.3 - 2021-03-02 # Observation - Add editable field to let API consumer knows whether the observation can be edited 0.3.2 - 2021-02-10 # Config - Add option to log every API call in Lizmap Web Client default log file Docs - Update README with debug chapter Add CHANGELOG.md file 0.3.1 - 2020-11-01 # Media - Use gobsapi.php URL for project geopackage, indicator documents and observation media Project - Add default maximum extent if project projection unknown Docs - Update README","title":"Changelog"},{"location":"changelog/#changelog","text":"","title":"Changelog"},{"location":"changelog/#unreleased","text":"","title":"Unreleased"},{"location":"changelog/#060-2023-03-27","text":"","title":"0.6.0 - 2023-03-27"},{"location":"changelog/#changed","text":"Indicator - Move the dimensions characteristics into a new dedicated table dimension","title":"Changed"},{"location":"changelog/#051-2023-02-21","text":"","title":"0.5.1 - 2023-02-21"},{"location":"changelog/#added","text":"Observation - Allow to create an observation by passing a spatial object reference The API will not create a new dedicated spatial object to reference the observation but will use the given spatial object","title":"Added"},{"location":"changelog/#050-2022-11-02","text":"","title":"0.5.0 - 2022-11-02"},{"location":"changelog/#added_1","text":"Observation - Respect and use the given UUID when creating a new observation instead of always generate a new one","title":"Added"},{"location":"changelog/#changed_1","text":"Installation - improve the installation process and adapt the code for LWC >= 3.5 Logs - Add the user login as a prefix in the API logs if available Docs: Add the entry point /project/{projectKey}/indicator/{indicatorCode}/document/{documentUuid} in the API documentation Remove the useless mention of jDb profile","title":"Changed"},{"location":"changelog/#tests","text":"Unit tests - Add a full dockerized stack with Lizmap Web Client to test the API entry points Add test data (taken from the G-Obs QGIS plugin) Add a QGIS project with the test data and the needed variables Allow to use the make command to run the test stack and import the needed data Add 14 Python unit tests to cover the main API entry points","title":"Tests"},{"location":"changelog/#041-2022-04-22","text":"Observation - Return the full geometry (Point, Linestring or Polygon) and not the centroid anymore in the \"wkt\" property of the observation. QGIS Project - Get the QGIS PostgreSQL connection name and use it as the name of the PostgreSQL service file to use for the database connection. Installation - Use the new method createEntryPoint to correctly install gobsapi.php CI - Create a release on GitHub after a publishing a tag Docs - Switch to MkDocs","title":"0.4.1 - 2022-04-22"},{"location":"changelog/#040-2021-07-04","text":"User - Automatically create an actor in the G-Obs database for the authenticated user Indicator - Automatically create a series for the authenticated user and the given indicator, allowing the user to directly create observations for this indicator Docs - Add installation, configuration & changelog chapters in https://docs.3liz.org/lizmap-gobsapi-module/","title":"0.4.0 - 2021-07-04"},{"location":"changelog/#033-2021-03-02","text":"Observation - Add editable field to let API consumer knows whether the observation can be edited","title":"0.3.3 - 2021-03-02"},{"location":"changelog/#032-2021-02-10","text":"Config - Add option to log every API call in Lizmap Web Client default log file Docs - Update README with debug chapter Add CHANGELOG.md file","title":"0.3.2 - 2021-02-10"},{"location":"changelog/#031-2020-11-01","text":"Media - Use gobsapi.php URL for project geopackage, indicator documents and observation media Project - Add default maximum extent if project projection unknown Docs - Update README","title":"0.3.1 - 2020-11-01"},{"location":"configuration/","text":"Configuration # The G-Obs API module is tightly linked to the G-Obs QGIS plugin , and to the use of Lizmap Web Client as the web map publication tool. We write here some help regarding the specific configuration needed for G-Obs API. A full documentation on Lizmap Web Client is available here: https://docs.lizmap.com/ Project # A project in G-Obs corresponds to a QGIS project published to Lizmap, with some specificities: Indicators : In the QGIS Project properties, you need to have a project variable gobs_indicators containing the list of indicators that you want to publish in the project. To do so, open the project properties (CTRL+MAJ+P), go to the Variables tab, and add a new variable: name gobs_indicators and value begining exactly with the term gobs_indicators: , and containing the list of indicator codes separated by comma. For example: gobs_indicators:pluviometry,population will \"publish\" these two indicators (pluviometry and population) with the QGIS project. Connection name : You must also add another QGIS project variable gobs_connection_name containing the name of the PostgreSQL connection name (as written in the QGIS connection configuration dialog). This connection name must be exactly the same as the name of the PostgreSQL service which is used locally (your computer) and in the GobsAPI server . Additionnal spatial data : you can also publish a Geopackage file alongside the project, to be used by any software to display referential spatial layers on the map with the observation data. To do so, just create and save a Geopackage file containing vector layers (and raster layers if needed) named as the QGIS project. For example, if you project file is my_gobs_project.qgs , you must save the Geopackage file in the same folder with the name my_gobs_project.qgs.gpkg . You can create and populate this Geopackage with the QGIS processing tool Package layers accessible with the Processing / Toolbox menu. Indicators # Documents # In the G-Obs database, you can add documents to illustrate each indicator. To do so, the table gobs.document must be filled with appropriate data. An indicator can have different types of documents: document : any document such as PDF, ODT, DOC, DOCX, ZIP file icon : the icon of the indicator (a simple and small image file). Must be a jpeg, jpg, png or gif. image : an image file (photo, illustration) other : any other unspecified type of document preview : the image to be shown as the main illustration of the indicator. Must be a jpeg, jpg, png or gif. video : a video file. url : a URL pointing to an external ressource All the document files must be stored in the API server. The document files must be stored inside a media/gobsapi/documents/ folder, with the media folder located in Lizmap repository root folder. This media folder must be writable. Do it for example with 1 2 chown -R :www-data /srv/data/media chmod 775 -R /srv/data/media For example, if Lizmap Web Client repository root folder is /srv/data/ , the root gobsapi media folder will be /srv/data/media/ and the documents must be stored in /srv/data/media/gobsapi/documents/INDICATOR_CODE/DOCUMENT_TYPE/DOCUMENT_FILE_NAME.EXT , where INDICATOR_CODE is the code of the indicator, for example pluviometry DOCUMENT_TYPE is the type of the document, for example image DOCUMENT_FILE_NAME.EXT is the name of the file, for example a_picture.jpg Two examples: /srv/data/media/gobsapi/documents/pluviometry/image/a_picture.jpg /srv/data/media/gobsapi/documents/population/document/explaining_demography.pdf In the table gobs.document of the G-Obs database , the path must be stored relative to the folder /srv/data/media/gobsapi/documents , and must begin only with the code of the indicator. For example : pluviometry/image/a_picture.jpg population/document/explaining_demography.pdf The API module will then propose a URL to access each document, returned when querying the details of an indicator. Observations # Media # Each observation can have a photo, called media. When uploading this media file with the API entry point /project/PROJECT_CODE/indicator/INDICATOR_CODE/observation/OBSERVATION_UID/uploadMedia , the media file will be stored in the full path /srv/data/media/gobsapi/observations/OBSERVATION_UID.EXT where: INDICATOR_CODE is the code of the indicator, for example pluviometry OBSERVATION_UID is the UUID of the observation, for example e8f0a46c-1d24-456a-925a-387740ade1c6 EXT is the extension of the original file sent, for example jpeg which can build the example path: /srv/data/media/gobsapi/observations/e8f0a46c-1d24-456a-925a-387740ade1c6.jpeg","title":"Configuration"},{"location":"configuration/#configuration","text":"The G-Obs API module is tightly linked to the G-Obs QGIS plugin , and to the use of Lizmap Web Client as the web map publication tool. We write here some help regarding the specific configuration needed for G-Obs API. A full documentation on Lizmap Web Client is available here: https://docs.lizmap.com/","title":"Configuration"},{"location":"configuration/#project","text":"A project in G-Obs corresponds to a QGIS project published to Lizmap, with some specificities: Indicators : In the QGIS Project properties, you need to have a project variable gobs_indicators containing the list of indicators that you want to publish in the project. To do so, open the project properties (CTRL+MAJ+P), go to the Variables tab, and add a new variable: name gobs_indicators and value begining exactly with the term gobs_indicators: , and containing the list of indicator codes separated by comma. For example: gobs_indicators:pluviometry,population will \"publish\" these two indicators (pluviometry and population) with the QGIS project. Connection name : You must also add another QGIS project variable gobs_connection_name containing the name of the PostgreSQL connection name (as written in the QGIS connection configuration dialog). This connection name must be exactly the same as the name of the PostgreSQL service which is used locally (your computer) and in the GobsAPI server . Additionnal spatial data : you can also publish a Geopackage file alongside the project, to be used by any software to display referential spatial layers on the map with the observation data. To do so, just create and save a Geopackage file containing vector layers (and raster layers if needed) named as the QGIS project. For example, if you project file is my_gobs_project.qgs , you must save the Geopackage file in the same folder with the name my_gobs_project.qgs.gpkg . You can create and populate this Geopackage with the QGIS processing tool Package layers accessible with the Processing / Toolbox menu.","title":"Project"},{"location":"configuration/#indicators","text":"","title":"Indicators"},{"location":"configuration/#documents","text":"In the G-Obs database, you can add documents to illustrate each indicator. To do so, the table gobs.document must be filled with appropriate data. An indicator can have different types of documents: document : any document such as PDF, ODT, DOC, DOCX, ZIP file icon : the icon of the indicator (a simple and small image file). Must be a jpeg, jpg, png or gif. image : an image file (photo, illustration) other : any other unspecified type of document preview : the image to be shown as the main illustration of the indicator. Must be a jpeg, jpg, png or gif. video : a video file. url : a URL pointing to an external ressource All the document files must be stored in the API server. The document files must be stored inside a media/gobsapi/documents/ folder, with the media folder located in Lizmap repository root folder. This media folder must be writable. Do it for example with 1 2 chown -R :www-data /srv/data/media chmod 775 -R /srv/data/media For example, if Lizmap Web Client repository root folder is /srv/data/ , the root gobsapi media folder will be /srv/data/media/ and the documents must be stored in /srv/data/media/gobsapi/documents/INDICATOR_CODE/DOCUMENT_TYPE/DOCUMENT_FILE_NAME.EXT , where INDICATOR_CODE is the code of the indicator, for example pluviometry DOCUMENT_TYPE is the type of the document, for example image DOCUMENT_FILE_NAME.EXT is the name of the file, for example a_picture.jpg Two examples: /srv/data/media/gobsapi/documents/pluviometry/image/a_picture.jpg /srv/data/media/gobsapi/documents/population/document/explaining_demography.pdf In the table gobs.document of the G-Obs database , the path must be stored relative to the folder /srv/data/media/gobsapi/documents , and must begin only with the code of the indicator. For example : pluviometry/image/a_picture.jpg population/document/explaining_demography.pdf The API module will then propose a URL to access each document, returned when querying the details of an indicator.","title":"Documents"},{"location":"configuration/#observations","text":"","title":"Observations"},{"location":"configuration/#media","text":"Each observation can have a photo, called media. When uploading this media file with the API entry point /project/PROJECT_CODE/indicator/INDICATOR_CODE/observation/OBSERVATION_UID/uploadMedia , the media file will be stored in the full path /srv/data/media/gobsapi/observations/OBSERVATION_UID.EXT where: INDICATOR_CODE is the code of the indicator, for example pluviometry OBSERVATION_UID is the UUID of the observation, for example e8f0a46c-1d24-456a-925a-387740ade1c6 EXT is the extension of the original file sent, for example jpeg which can build the example path: /srv/data/media/gobsapi/observations/e8f0a46c-1d24-456a-925a-387740ade1c6.jpeg","title":"Media"},{"location":"install/","text":"Installation # Lizmap Web Client gobsapi module # NB: all the path given are relative to your Lizmap Web Client instance folder. Copy the gobsapi directory inside the lizmap/lizmap-modules/ of a working Lizmap Web Client instance to have a new lizmap/lizmap-modules/gobsapi/ folder containing the files module.xml , events.xml , and folders. Then modify the file lizmap/var/config/localconfig.ini.php to add gobsapi.access=2 in the [modules] section, such as 1 2 [modules] gobsapi.access = 2 For Lizmap Web Client <= 3.4.x # You need to manually edit the file lizmap/projects.xml and add the following content inside the <entrypoints> section 1 <entry file= \"gobsapi.php\" config= \"gobsapi/config.ini.php\" type= \"classic\" /> Afterwards, you should have a content like this in the entrypoints section 1 2 3 4 5 6 <entrypoints> <entry file= \"index.php\" config= \"index/config.ini.php\" /> <entry file= \"admin.php\" config= \"admin/config.ini.php\" type= \"classic\" /> <entry file= \"script.php\" config= \"cmdline/script.ini.php\" type= \"cmdline\" /> <entry file= \"gobsapi.php\" config= \"gobsapi/config.ini.php\" type= \"classic\" /> </entrypoints> Copy the folder gobsapi/install/gobsapi inside the Lizmap folder lizmap/var/config/ to have a new folder lizmap/var/config/gobsapi with a file config.ini.php inside 1 cp -R lizmap/lizmap-modules/gobsapi/install/gobsapi lizmap/var/config/gobsapi Copy the file gobsapi/install/gobsapi.php inside the lizmap/www/ folder 1 cp -R lizmap/lizmap-modules/gobsapi/install/gobsapi.php lizmap/www/ For Lizmap Web Client >= 3.5.x # You do not need to copy, modify or create files, everything is done by the module installer. Run the Lizmap Web Client installer # Then you need to run the Lizmap installer 1 2 3 lizmap/install/set_rights.sh lizmap/install/clean_vartmp.sh php lizmap/install/installer.php Authentication driver # If your Lizmap Web Client uses SAMLv2 to authenticate the users, you need to force the gobsapi module to use another driver. The SAML protocol is based on URL redirections, which are not suitable for the G-Obs API end point. You can override the configuration to force the gobsapi.php entry point to use another driver. To do so, you must first edit the file localconfig.ini.php and change the [module] section into: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 [modules] ;; uncomment it if you want to use ldap for authentication ;; see documentation to complete the ldap configuration ldapdao.access = 0 lizmap.installparam = multiauth.access = 0 ;; we deactivate gobs & saml which must be activated ;; only for the entry points index and admin ;; by editing their configuration files lizmap/var/config/index/config.ini.php ;; and lizmap/var/config/admin/config.ini.php gobs.access = 0 saml.access = 0 ;; we then activate the gobsapi module gobsapi.access = 2 We have deactivated gobs & saml in the main config (localconfig): they must now be activated only for the entry points index and admin by editing their configuration files lizmap/var/config/index/config.ini.php and lizmap/var/config/admin/config.ini.php . Example contents: for the index entrypoint: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 ;<?php die(''); ?> ;for security reasons , don't remove or modify the first line startModule = view startAction = \"default:index\" [coordplugins] jacl2 = 1 saml = \"saml/saml.coord.ini.php\" saml.name = auth [modules] dataviz.access = 2 dynamicLayers.access = 2 jelix.access = 2 lizmap.access = 2 view.access = 2 filter.access = 2 action.access = 2 jacl2db_admin.access = 1 jauthdb_admin.access = 1 master_admin.access = 1 saml.access = 2 saml.installparam = \"localconfig ;useradmin=mdouchin;emailadmin=mdouchin@3liz.com\" saml.path = \"app:my-packages/vendor/jelix/saml-module/saml\" gobs.access = 2 [coordplugin_auth] ;; uncomment it if you want to use ldap for authentication ;; see documentation to complete the ldap configuration driver = saml for the admin entrypoint: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 ;<?php die(''); ?> ;for security reasons , don't remove or modify the first line startModule = master_admin startAction = \"default:index\" [responses] html = adminHtmlResponse htmlauth = adminLoginHtmlResponse [modules] admin.access = 2 jauthdb_admin.access = 2 jacl2db_admin.access = 2 master_admin.access = 2 jcommunity.access = 2 saml.access = 2 saml.installparam = \"localconfig ;useradmin=mdouchin;emailadmin=mdouchin@3liz.com\" saml.path = \"app:my-packages/vendor/jelix/saml-module/saml\" gobs.access = 2 [coordplugins] jacl2 = 1 saml = \"saml/saml.coord.ini.php\" saml.name = auth [coordplugin_auth] ;; uncomment it if you want to use ldap for authentication ;; see documentation to complete the ldap configuration driver = saml for the gobsapi entrypoint: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 [modules] jelix.access = 1 lizmap.access = 1 view.access = 1 jacl2db_admin.access = 1 jauthdb_admin.access = 1 master_admin.access = 1 ;; on active le module gobsapi gobsapi.access = 2 ;; et ldapdao ldapdao.access = 1 jacl2.access = 1 jauth.access = 1 jauthdb.access = 1 [coordplugins] jacl2 = 1 auth = \"gobsapi/auth.coord.ini.php\" [coordplugin_jacl2] on_error = 2 error_message = \"jacl2~errors.action.right.needed\" on_error_action = \"jelix~error:badright\" Test the API # Then you are ready to test. For example with curl (you need curl to pass JWT token in Authorization header). Full API Documentation is available: https://docs.3liz.org/lizmap-gobsapi-module/api/ You can find examples in the tests folder In the following examples, we use http://lizmap.localhost/ as the base URL: Define the API base URL: 1 BASEURL = \"http://lizmap.localhost/gobsapi.php\" User # Log in 1 2 3 # login # we get the authentication TOKEN variable by first log the user in TOKEN = $( curl -s -X GET -H 'Content-Type: application/json' \" $BASEURL /user/login?username=gobsapi_writer&password=al_password\" | jq -r '.token' ) && echo $TOKEN returns the token, for example 1 dacf5135c6686417c3916a649adbd146 Get the user projects 1 2 3 # User Projects # we use the $TOKEN variable in the Authorization header echo $( curl -X GET -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" $BASEURL /user/projects ) Log out 1 2 # logUserOut echo $( curl -X GET -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" $BASEURL /user/logout ) Project # Get a project details 1 2 # getProjectByKey echo $( curl -X GET -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" $BASEURL /project/test_project_a ) Get the list of indicators 1 2 # getProjectIndicators echo $( curl -X GET -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" $BASEURL /project/test_project_a/indicators ) returns Get the project Geopackage 1 2 # getProjectGeopackage curl -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" $BASEURL /project/test_project_a/geopackage --output /tmp/test.gpkg returns the binary file and save it to /tmp/test.gpkg Indicator # Get an indicator data * 1 2 # getIndicatorByCode echo $( curl -X GET -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" $BASEURL /project/test_project_a/indicator/hiker_position ) ` Get the observation of a given indicator between two dates 1 2 3 # getObservationsByIndicator # between seven days ago and now echo $( curl -X GET -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" -H \"lastSyncDate: $( date '+%Y-%m-%d %H:%M:%S' -d '7 days ago' ) \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" $BASEURL /project/test_project_a/indicator/hiker_position/observations ) returns all the matching observations. Get the deleted observation on the server between two dates 1 2 # getDeletedObservationsByIndicator echo $( curl -X GET -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" -H \"lastSyncDate: $( date '+%Y-%m-%d %H:%M:%S' -d '13 days ago' ) \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" $BASEURL /project/test_project_a/indicator/hiker_position/deletedObservations ) returns a list of the deleted observation uids 1 [ \"98020996-2dec-4cbe-93d7-c2ba1b43b871\" , \"230d5b17-96b3-4bad-8c78-6379f1e9b1c6\" , \"ced021b2-6eda-4a80-8903-b013291a6b2d\" , \"2d198922-5cd0-4d0f-bc96-dfcc17c01ced\" , \"1fc001b6-c147-49ef-ae6e-66f8ea5e0b39\" ] Get the indicator documents 1 2 # getIndicatorDocument curl -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" $BASEURL /project/test_project_a/indicator/hiker_position/document/946fee64-e86c-40fa-a55e-8d9ad3579734 --output /tmp/test.jpeg Observation # Create a new observation * 1 2 # createObservation echo $( curl -X POST -H \"Accept: application/json\" -H \"Authorization: Bearer ${ TOKEN } \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" -H \"Content-Type: application/json\" -d \"{\\\"id\\\":null,\\\"indicator\\\":\\\"hiker_position\\\",\\\"uuid\\\":null,\\\"start_timestamp\\\":\\\"2019-07-19 03:30:00\\\",\\\"end_timestamp\\\":null,\\\"coordinates\\\":{\\\"x\\\":-3.785956510771293,\\\"y\\\":48.4744332531894},\\\"wkt\\\":\\\"POINT(-3.78595651077129 48.4744332531894)\\\",\\\"values\\\":[125],\\\"photo\\\":null,\\\"created_at\\\":null,\\\"updated_at\\\":null}\" \" $BASEURL /project/test_project_a/indicator/hiker_position/observation\" ) Update an existing observation 1 2 # updateObservation echo $( curl -X PUT -H \"Accept: application/json\" -H \"Authorization: Bearer ${ TOKEN } \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" -H \"Content-Type: application/json\" -d \"{\\\"id\\\":1,\\\"indicator\\\":\\\"hiker_position\\\",\\\"uuid\\\":\\\"e8f0a46c-1d24-456a-925a-387740ade1c6\\\",\\\"start_timestamp\\\":\\\"2019-07-16 03:35:00\\\",\\\"end_timestamp\\\":null,\\\"coordinates\\\":{\\\"x\\\":-3.785956510771293,\\\"y\\\":48.4744332531894},\\\"wkt\\\":\\\"POINT(-3.78595651077999 48.4744332531999)\\\",\\\"values\\\":[1.2],\\\"photo\\\":null,\\\"created_at\\\":\\\"2020-12-03 15:04:40\\\",\\\"updated_at\\\":\\\"2020-12-03 17:55:59\\\"}\" \" $BASEURL /project/test_project_a/indicator/hiker_position/observation\" ) Get an observation data 1 2 # getObservationById echo $( curl -X GET -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" $BASEURL /project/test_project_a/indicator/hiker_position/observation/e8f0a46c-1d24-456a-925a-387740ade1c6 ) Delete an observation 1 2 # deleteObservationById echo $( curl -X DELETE -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" $BASEURL /project/test_project_a/indicator/hiker_position/observation/e8f0a46c-1d24-456a-925a-387740ade1c6 ) Observation media # Upload a media for a given observation 1 2 # uploadObservationMedia echo $( curl -X POST -H \"Accept: application/json\" -H \"Authorization: Bearer ${ TOKEN } \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" -H \"Content-Type: multipart/form-data\" -F \"mediaFile=@/home/mdouchin/Documents/3liz/mdouchin_carre.jpeg;type=image/jpeg\" $BASEURL /project/test_project_a/indicator/hiker_position/observation/e8f0a46c-1d24-456a-925a-387740ade1c6/uploadMedia ) Delete an observation media 1 2 # deleteObservationMedia echo $( curl -X DELETE -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" $BASEURL /project/test_project_a/indicator/hiker_position/observation/e8f0a46c-1d24-456a-925a-387740ade1c6/deleteMedia ) Download an observation media 1 2 # getObservationMedia curl -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" $BASEURL /project/test_project_a/indicator/hiker_position/observation/e8f0a46c-1d24-456a-925a-387740ade1c6/media --output /tmp/test.jpeg returns the media file in binary and save it to /tmp/test.jpeg Debug # You can activate the debug mode by manually editing the configuration file lizmap/var/config/gobsapi.ini.php and modify the variable log_api_calls' with the debug` value: 1 2 [gobsapi] log_api_calls = debug You will then be able to see the API calls log written in the file lizmap/var/log/messages.log 1 tail -f lizmap/var/log/messages.log Messages will be like 1 2 3 4 5 6 7 2021-02-09 17:18:52 127.0.0.1 default GOBSAPI - ################ 2021-02-09 17:19:05 127.0.0.1 default GOBSAPI - path: getProjectByKey 2021-02-09 17:19:05 127.0.0.1 default GOBSAPI - input_data: {\"projectKey\":\"lizmapdemo~a_fake_project\",\"module\":\"gobsapi\",\"action\":\"project:getProjectByKey\"} 2021-02-09 17:19:05 127.0.0.1 default GOBSAPI - http_code: 404 2021-02-09 17:19:05 127.0.0.1 default GOBSAPI - status: error 2021-02-09 17:19:05 127.0.0.1 default GOBSAPI - message: The given project key does not refer to a known project 2021-02-09 17:19:05 127.0.0.1 default GOBSAPI - ################","title":"Installation"},{"location":"install/#installation","text":"","title":"Installation"},{"location":"install/#lizmap-web-client-gobsapi-module","text":"NB: all the path given are relative to your Lizmap Web Client instance folder. Copy the gobsapi directory inside the lizmap/lizmap-modules/ of a working Lizmap Web Client instance to have a new lizmap/lizmap-modules/gobsapi/ folder containing the files module.xml , events.xml , and folders. Then modify the file lizmap/var/config/localconfig.ini.php to add gobsapi.access=2 in the [modules] section, such as 1 2 [modules] gobsapi.access = 2","title":"Lizmap Web Client gobsapi module"},{"location":"install/#for-lizmap-web-client-34x","text":"You need to manually edit the file lizmap/projects.xml and add the following content inside the <entrypoints> section 1 <entry file= \"gobsapi.php\" config= \"gobsapi/config.ini.php\" type= \"classic\" /> Afterwards, you should have a content like this in the entrypoints section 1 2 3 4 5 6 <entrypoints> <entry file= \"index.php\" config= \"index/config.ini.php\" /> <entry file= \"admin.php\" config= \"admin/config.ini.php\" type= \"classic\" /> <entry file= \"script.php\" config= \"cmdline/script.ini.php\" type= \"cmdline\" /> <entry file= \"gobsapi.php\" config= \"gobsapi/config.ini.php\" type= \"classic\" /> </entrypoints> Copy the folder gobsapi/install/gobsapi inside the Lizmap folder lizmap/var/config/ to have a new folder lizmap/var/config/gobsapi with a file config.ini.php inside 1 cp -R lizmap/lizmap-modules/gobsapi/install/gobsapi lizmap/var/config/gobsapi Copy the file gobsapi/install/gobsapi.php inside the lizmap/www/ folder 1 cp -R lizmap/lizmap-modules/gobsapi/install/gobsapi.php lizmap/www/","title":"For Lizmap Web Client &lt;= 3.4.x"},{"location":"install/#for-lizmap-web-client-35x","text":"You do not need to copy, modify or create files, everything is done by the module installer.","title":"For Lizmap Web Client &gt;= 3.5.x"},{"location":"install/#run-the-lizmap-web-client-installer","text":"Then you need to run the Lizmap installer 1 2 3 lizmap/install/set_rights.sh lizmap/install/clean_vartmp.sh php lizmap/install/installer.php","title":"Run the Lizmap Web Client installer"},{"location":"install/#authentication-driver","text":"If your Lizmap Web Client uses SAMLv2 to authenticate the users, you need to force the gobsapi module to use another driver. The SAML protocol is based on URL redirections, which are not suitable for the G-Obs API end point. You can override the configuration to force the gobsapi.php entry point to use another driver. To do so, you must first edit the file localconfig.ini.php and change the [module] section into: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 [modules] ;; uncomment it if you want to use ldap for authentication ;; see documentation to complete the ldap configuration ldapdao.access = 0 lizmap.installparam = multiauth.access = 0 ;; we deactivate gobs & saml which must be activated ;; only for the entry points index and admin ;; by editing their configuration files lizmap/var/config/index/config.ini.php ;; and lizmap/var/config/admin/config.ini.php gobs.access = 0 saml.access = 0 ;; we then activate the gobsapi module gobsapi.access = 2 We have deactivated gobs & saml in the main config (localconfig): they must now be activated only for the entry points index and admin by editing their configuration files lizmap/var/config/index/config.ini.php and lizmap/var/config/admin/config.ini.php . Example contents: for the index entrypoint: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 ;<?php die(''); ?> ;for security reasons , don't remove or modify the first line startModule = view startAction = \"default:index\" [coordplugins] jacl2 = 1 saml = \"saml/saml.coord.ini.php\" saml.name = auth [modules] dataviz.access = 2 dynamicLayers.access = 2 jelix.access = 2 lizmap.access = 2 view.access = 2 filter.access = 2 action.access = 2 jacl2db_admin.access = 1 jauthdb_admin.access = 1 master_admin.access = 1 saml.access = 2 saml.installparam = \"localconfig ;useradmin=mdouchin;emailadmin=mdouchin@3liz.com\" saml.path = \"app:my-packages/vendor/jelix/saml-module/saml\" gobs.access = 2 [coordplugin_auth] ;; uncomment it if you want to use ldap for authentication ;; see documentation to complete the ldap configuration driver = saml for the admin entrypoint: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 ;<?php die(''); ?> ;for security reasons , don't remove or modify the first line startModule = master_admin startAction = \"default:index\" [responses] html = adminHtmlResponse htmlauth = adminLoginHtmlResponse [modules] admin.access = 2 jauthdb_admin.access = 2 jacl2db_admin.access = 2 master_admin.access = 2 jcommunity.access = 2 saml.access = 2 saml.installparam = \"localconfig ;useradmin=mdouchin;emailadmin=mdouchin@3liz.com\" saml.path = \"app:my-packages/vendor/jelix/saml-module/saml\" gobs.access = 2 [coordplugins] jacl2 = 1 saml = \"saml/saml.coord.ini.php\" saml.name = auth [coordplugin_auth] ;; uncomment it if you want to use ldap for authentication ;; see documentation to complete the ldap configuration driver = saml for the gobsapi entrypoint: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 [modules] jelix.access = 1 lizmap.access = 1 view.access = 1 jacl2db_admin.access = 1 jauthdb_admin.access = 1 master_admin.access = 1 ;; on active le module gobsapi gobsapi.access = 2 ;; et ldapdao ldapdao.access = 1 jacl2.access = 1 jauth.access = 1 jauthdb.access = 1 [coordplugins] jacl2 = 1 auth = \"gobsapi/auth.coord.ini.php\" [coordplugin_jacl2] on_error = 2 error_message = \"jacl2~errors.action.right.needed\" on_error_action = \"jelix~error:badright\"","title":"Authentication driver"},{"location":"install/#test-the-api","text":"Then you are ready to test. For example with curl (you need curl to pass JWT token in Authorization header). Full API Documentation is available: https://docs.3liz.org/lizmap-gobsapi-module/api/ You can find examples in the tests folder In the following examples, we use http://lizmap.localhost/ as the base URL: Define the API base URL: 1 BASEURL = \"http://lizmap.localhost/gobsapi.php\"","title":"Test the API"},{"location":"install/#user","text":"Log in 1 2 3 # login # we get the authentication TOKEN variable by first log the user in TOKEN = $( curl -s -X GET -H 'Content-Type: application/json' \" $BASEURL /user/login?username=gobsapi_writer&password=al_password\" | jq -r '.token' ) && echo $TOKEN returns the token, for example 1 dacf5135c6686417c3916a649adbd146 Get the user projects 1 2 3 # User Projects # we use the $TOKEN variable in the Authorization header echo $( curl -X GET -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" $BASEURL /user/projects ) Log out 1 2 # logUserOut echo $( curl -X GET -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" $BASEURL /user/logout )","title":"User"},{"location":"install/#project","text":"Get a project details 1 2 # getProjectByKey echo $( curl -X GET -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" $BASEURL /project/test_project_a ) Get the list of indicators 1 2 # getProjectIndicators echo $( curl -X GET -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" $BASEURL /project/test_project_a/indicators ) returns Get the project Geopackage 1 2 # getProjectGeopackage curl -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" $BASEURL /project/test_project_a/geopackage --output /tmp/test.gpkg returns the binary file and save it to /tmp/test.gpkg","title":"Project"},{"location":"install/#indicator","text":"Get an indicator data * 1 2 # getIndicatorByCode echo $( curl -X GET -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" $BASEURL /project/test_project_a/indicator/hiker_position ) ` Get the observation of a given indicator between two dates 1 2 3 # getObservationsByIndicator # between seven days ago and now echo $( curl -X GET -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" -H \"lastSyncDate: $( date '+%Y-%m-%d %H:%M:%S' -d '7 days ago' ) \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" $BASEURL /project/test_project_a/indicator/hiker_position/observations ) returns all the matching observations. Get the deleted observation on the server between two dates 1 2 # getDeletedObservationsByIndicator echo $( curl -X GET -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" -H \"lastSyncDate: $( date '+%Y-%m-%d %H:%M:%S' -d '13 days ago' ) \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" $BASEURL /project/test_project_a/indicator/hiker_position/deletedObservations ) returns a list of the deleted observation uids 1 [ \"98020996-2dec-4cbe-93d7-c2ba1b43b871\" , \"230d5b17-96b3-4bad-8c78-6379f1e9b1c6\" , \"ced021b2-6eda-4a80-8903-b013291a6b2d\" , \"2d198922-5cd0-4d0f-bc96-dfcc17c01ced\" , \"1fc001b6-c147-49ef-ae6e-66f8ea5e0b39\" ] Get the indicator documents 1 2 # getIndicatorDocument curl -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" $BASEURL /project/test_project_a/indicator/hiker_position/document/946fee64-e86c-40fa-a55e-8d9ad3579734 --output /tmp/test.jpeg","title":"Indicator"},{"location":"install/#observation","text":"Create a new observation * 1 2 # createObservation echo $( curl -X POST -H \"Accept: application/json\" -H \"Authorization: Bearer ${ TOKEN } \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" -H \"Content-Type: application/json\" -d \"{\\\"id\\\":null,\\\"indicator\\\":\\\"hiker_position\\\",\\\"uuid\\\":null,\\\"start_timestamp\\\":\\\"2019-07-19 03:30:00\\\",\\\"end_timestamp\\\":null,\\\"coordinates\\\":{\\\"x\\\":-3.785956510771293,\\\"y\\\":48.4744332531894},\\\"wkt\\\":\\\"POINT(-3.78595651077129 48.4744332531894)\\\",\\\"values\\\":[125],\\\"photo\\\":null,\\\"created_at\\\":null,\\\"updated_at\\\":null}\" \" $BASEURL /project/test_project_a/indicator/hiker_position/observation\" ) Update an existing observation 1 2 # updateObservation echo $( curl -X PUT -H \"Accept: application/json\" -H \"Authorization: Bearer ${ TOKEN } \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" -H \"Content-Type: application/json\" -d \"{\\\"id\\\":1,\\\"indicator\\\":\\\"hiker_position\\\",\\\"uuid\\\":\\\"e8f0a46c-1d24-456a-925a-387740ade1c6\\\",\\\"start_timestamp\\\":\\\"2019-07-16 03:35:00\\\",\\\"end_timestamp\\\":null,\\\"coordinates\\\":{\\\"x\\\":-3.785956510771293,\\\"y\\\":48.4744332531894},\\\"wkt\\\":\\\"POINT(-3.78595651077999 48.4744332531999)\\\",\\\"values\\\":[1.2],\\\"photo\\\":null,\\\"created_at\\\":\\\"2020-12-03 15:04:40\\\",\\\"updated_at\\\":\\\"2020-12-03 17:55:59\\\"}\" \" $BASEURL /project/test_project_a/indicator/hiker_position/observation\" ) Get an observation data 1 2 # getObservationById echo $( curl -X GET -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" $BASEURL /project/test_project_a/indicator/hiker_position/observation/e8f0a46c-1d24-456a-925a-387740ade1c6 ) Delete an observation 1 2 # deleteObservationById echo $( curl -X DELETE -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" $BASEURL /project/test_project_a/indicator/hiker_position/observation/e8f0a46c-1d24-456a-925a-387740ade1c6 )","title":"Observation"},{"location":"install/#observation-media","text":"Upload a media for a given observation 1 2 # uploadObservationMedia echo $( curl -X POST -H \"Accept: application/json\" -H \"Authorization: Bearer ${ TOKEN } \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" -H \"Content-Type: multipart/form-data\" -F \"mediaFile=@/home/mdouchin/Documents/3liz/mdouchin_carre.jpeg;type=image/jpeg\" $BASEURL /project/test_project_a/indicator/hiker_position/observation/e8f0a46c-1d24-456a-925a-387740ade1c6/uploadMedia ) Delete an observation media 1 2 # deleteObservationMedia echo $( curl -X DELETE -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" $BASEURL /project/test_project_a/indicator/hiker_position/observation/e8f0a46c-1d24-456a-925a-387740ade1c6/deleteMedia ) Download an observation media 1 2 # getObservationMedia curl -H 'Accept: application/json' -H \"Authorization: Bearer ${ TOKEN } \" -H \"requestSyncDate: $( date '+%Y-%m-%d %H:%M:%S' ) \" $BASEURL /project/test_project_a/indicator/hiker_position/observation/e8f0a46c-1d24-456a-925a-387740ade1c6/media --output /tmp/test.jpeg returns the media file in binary and save it to /tmp/test.jpeg","title":"Observation media"},{"location":"install/#debug","text":"You can activate the debug mode by manually editing the configuration file lizmap/var/config/gobsapi.ini.php and modify the variable log_api_calls' with the debug` value: 1 2 [gobsapi] log_api_calls = debug You will then be able to see the API calls log written in the file lizmap/var/log/messages.log 1 tail -f lizmap/var/log/messages.log Messages will be like 1 2 3 4 5 6 7 2021-02-09 17:18:52 127.0.0.1 default GOBSAPI - ################ 2021-02-09 17:19:05 127.0.0.1 default GOBSAPI - path: getProjectByKey 2021-02-09 17:19:05 127.0.0.1 default GOBSAPI - input_data: {\"projectKey\":\"lizmapdemo~a_fake_project\",\"module\":\"gobsapi\",\"action\":\"project:getProjectByKey\"} 2021-02-09 17:19:05 127.0.0.1 default GOBSAPI - http_code: 404 2021-02-09 17:19:05 127.0.0.1 default GOBSAPI - status: error 2021-02-09 17:19:05 127.0.0.1 default GOBSAPI - message: The given project key does not refer to a known project 2021-02-09 17:19:05 127.0.0.1 default GOBSAPI - ################","title":"Debug"}]}