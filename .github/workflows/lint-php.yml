name: Lint PHP ðŸš¨

on:
  push:
#    paths:
#      - '**.php'
  pull_request:
#    paths:
#      - '**.php'
jobs:
  php-cs-fixer:
    name: PHP-CS-Fixer
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
      with:
        fetch-depth: 0

    - name: "PHP-CS-Fixer"
      # Version must match the one from the Makefile
      uses: docker://ghcr.io/php-cs-fixer/php-cs-fixer:3.69-php8.1
      with:
        args: check --config=.php_cs.dist.php --allow-risky=yes --diff
